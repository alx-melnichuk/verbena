<div class="su-content">
  <form class="su-form" novalidate
    [formGroup]="formGroup">

    <div class="su-title">{{ 'signup.title' | translate }}</div>
  
    <app-uniqueness-check
      #uniquenessCheckNickname="appUniquenessCheck"
      [debounceDelay]="debounceDelay"
      [checkUniquenessFn]="checkUniquenessNickname">
      <app-field-nickname wd-100
        formControlName="nickname"
        [isRequired]="true"
        label="field-nickname.label"
        hint="field-nickname.nickname_hint"
        [errMsg]="uniquenessCheckNickname.isUniquenessError ? 'Conflict.nickname_already_use' : undefined"
        (input)="updateErrMsg(); uniquenessCheckNickname.checkParameter(controls.nickname.value);">
      </app-field-nickname>
    </app-uniqueness-check>
  
    <app-uniqueness-check mr-tp-05
      #uniquenessCheckEmail="appUniquenessCheck"
      [debounceDelay]="debounceDelay"
      [checkUniquenessFn]="checkUniquenessEmail">
      <app-field-email wd-100 
        formControlName="email"
        [isRequired]="true"
        label="field-email.label"
        [errMsg]="uniquenessCheckEmail.isUniquenessError ? 'Conflict.email_already_use' : undefined"
        (input)="updateErrMsg(); uniquenessCheckEmail.checkParameter(controls.email.value);">
      </app-field-email>
    </app-uniqueness-check>

    <app-field-password wd-100 mr-tp-05
      formControlName="password"
      [isRequired]="true"
      hint="field-password.password_hint"
      (input)="updateErrMsg()">
    </app-field-password>
  
    <button type="button" wd-100 mr-bt-05 mr-tp-05 mat-raised-button
      class="mat-primary"
      [disabled]="formGroup.invalid || isDisabledSubmit ? '' : undefined"
      (click)="doSignup()">
      {{ 'signup.button_signup' | translate }}
    </button>
  
    <ng-container *ngFor="let errMsg of errMsgList">
      <mat-error class="su-err">{{ errMsg | translate }}</mat-error>
    </ng-container>

  </form>
  <div class="su-note">
    <span>{{ 'signup.already_registered' | translate }}</span>&nbsp;
    <a nodecor routerLink="{{linkLogin}}">{{ 'signup.go_to_login_page' | translate }}</a>
  </div>
</div>
  